# Soporte: https://www.linkedin.com/in/oscarlizarragag/


# Este script requiere que la librer√≠a **googletrans** est√© instalada.

# \# **Nota Importante:** La librer√≠a original `googletrans` ha tenido problemas de mantenimiento.

# \# \# Se recomienda usar una versi√≥n compatible o fork como `googletrans==4.0.0-rc1` o `googletrans-py`.

# \# Instalaci√≥n recomendada: `pip install googletrans==4.0.0-rc1`

```python
import sys
import tkinter as tk
from tkinter import messagebox
from googletrans import Translator

# --- CONFIGURACI√ìN Y MAPEO DE IDIOMAS ---

# # Mapeo de c√≥digos de idioma para facilitar la entrada del usuario
# # # El usuario puede escribir 'es', 'en', 'fr', etc.
CODIGOS_IDIOMA = {
    'es': 'espa√±ol',
    'en': 'ingl√©s',
    'fr': 'franc√©s',
    'de': 'alem√°n',
    'it': 'italiano',
    'pt': 'portugu√©s',
    'zh': 'chino',
    'ja': 'japon√©s',
    'ru': 'ruso',
}

def traducir_texto(texto, idioma_destino='en', idioma_origen='auto'):
    """
    Traduce un texto usando la API de Google Translate.

    :param texto: El texto a traducir.
    :param idioma_destino: C√≥digo de dos letras del idioma de destino (ej: 'en').
    :param idioma_origen: C√≥digo de dos letras del idioma de origen (ej: 'es' o 'auto').
    :return: El texto traducido.
    """
    try:
        # # Crear la instancia del traductor
        translator = Translator()
        
        # # Realizar la traducci√≥n
        resultado = translator.translate(
            text=texto, 
            dest=idioma_destino, 
            src=idioma_origen
        )
        
        # # El resultado es un objeto, necesitamos el atributo '.text'
        return resultado.text
        
    except Exception as e:
        # # Capturar errores de conexi√≥n, l√≠mite de peticiones o API
        print(f"\n# ‚ùå ERROR de traducci√≥n: No se pudo conectar o procesar la solicitud. Detalles: {e}")
        return None

def mostrar_idiomas_disponibles():
    """
    Muestra los c√≥digos de idioma soportados en la consola.
    """
    print("\n# --- C√ìDIGOS DE IDIOMA SOPORTADOS ---")
    for code, name in CODIGOS_IDIOMA.items():
        print(f"# {code:<5} -> {name.capitalize()}")
    print("# 'auto' -> Detecci√≥n autom√°tica de idioma de origen.")
    print("---------------------------------------")

def iniciar_traductor_consola():
    """
    Funci√≥n principal que gestiona la interacci√≥n con el usuario en la terminal.
    """
    print("## üåê TRADUCTOR DE IDIOMAS POR CONSOLA")
    mostrar_idiomas_disponibles()
    
    # # Bucle principal de la aplicaci√≥n
    while True:
        print("\n# --- NUEVA TRADUCCI√ìN ---")
        
        # 1. Entrada de Idioma Destino
        idioma_destino_entrada = input(">> Idioma de Destino (Ej: en, es, fr, ?): ").lower().strip()
        if idioma_destino_entrada == 'salir':
            break
        if idioma_destino_entrada == '?' or idioma_destino_entrada == 'ayuda':
            mostrar_idiomas_disponibles()
            continue

        # 2. Validaci√≥n de Idioma Destino
        if idioma_destino_entrada not in CODIGOS_IDIOMA:
            print("# ‚ö†Ô∏è C√≥digo de idioma de destino no reconocido. Usando 'en' (Ingl√©s) por defecto.")
            idioma_destino = 'en'
        else:
            idioma_destino = idioma_destino_entrada

        # 3. Entrada de Texto
        texto_a_traducir = input(f">> Texto a traducir a {CODIGOS_IDIOMA.get(idioma_destino, idioma_destino)}:\n> ").strip()
        
        if not texto_a_traducir:
            print("# ‚ö†Ô∏è Texto vac√≠o. Vuelva a intentarlo.")
            continue
            
        # 4. Realizar Traducci√≥n
        resultado_traduccion = traducir_texto(texto_a_traducir, idioma_destino)
        
        # 5. Mostrar Resultado
        if resultado_traduccion:
            print("\n## ‚ú® RESULTADO DE LA TRADUCCI√ìN:")
            print(f"   {resultado_traduccion}")
            print("---------------------------------")


    print("# üëã Traductor de idiomas finalizado.")


# --- Bloque Principal de Ejecuci√≥n ---

if __name__ == "__main__":
    # # Verificar dependencias antes de intentar ejecutar
    try:
        # # Intentar importar y crear una instancia para asegurar que la versi√≥n es compatible
        from googletrans import Translator
        _ = Translator() 
    except ImportError:
        print("# ERROR: La librer√≠a googletrans es requerida.")
        print("# Por favor, inst√°lala (puede requerir la versi√≥n rc1):")
        print("# pip install googletrans==4.0.0-rc1")
        sys.exit(1)
    except Exception as e:
        print("# ADVERTENCIA: La conexi√≥n inicial a la API fall√≥. El traductor podr√≠a no funcionar.")
        print(f"# Detalles del error: {e}")
        # # Continuar, ya que a veces el error es transitorio

    # # Usar Tkinter para el error de dependencia, pero retirarlo para la consola
    root = tk.Tk()
    root.withdraw() 
    
    iniciar_traductor_consola()
```

## üìù Instrucciones para Usar el Programa

1.  **Instala la librer√≠a `googletrans`:** Abre tu terminal y ejecuta la instalaci√≥n recomendada:
    ```bash
    pip install googletrans==4.0.0-rc1
    ```
      * *(Si tienes problemas, prueba con `pip install googletrans` y si sigue fallando, busca una alternativa o fork m√°s reciente).*
2.  **Guarda el c√≥digo:** Guarda el c√≥digo Python anterior en un archivo, por ejemplo, `traductor_consola.py`.
3.  **Ejecuta el script:** Abre tu terminal y ejecuta:
    ```bash
    python traductor_consola.py
    ```

### ‚å®Ô∏è Uso en la Terminal:

1.  El programa te pedir√° el **Idioma de Destino**. Escribe el c√≥digo de dos letras (ej., `fr` para franc√©s) o `?` para ver la lista.
2.  Luego, te pedir√° el **Texto a traducir**. Escribe tu texto.
3.  El resultado traducido se mostrar√° inmediatamente.
4.  Escribe **`salir`** en cualquier momento para finalizar la aplicaci√≥n.

# ¬°Este es un traductor r√°pido y funcional directamente en tu terminal\!




