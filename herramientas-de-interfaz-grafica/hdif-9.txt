# Soporte: https://www.linkedin.com/in/oscarlizarragag/

# Este script requiere que la librer칤a **feedparser** est칠 instalada.

# \# Puedes instalarla con `pip install feedparser`.

```python
import feedparser
import ssl # Necesario para manejar feeds seguros (HTTPS) en algunos entornos

# # Deshabilita la verificaci칩n SSL si se encuentra un error de certificado. 
# # # Esto soluciona un problema com칰n con `feedparser` y ciertos feeds HTTPS.
# # # ADVERTENCIA: Usar esto reduce la seguridad, pero es com칰n para scripts de prueba.
if hasattr(ssl, '_create_unverified_context'):
    ssl._create_default_https_context = ssl._create_unverified_context

def leer_feed_rss(url_feed):
    """
    Lee, analiza y muestra los titulares de un feed RSS dado.

    :param url_feed: La URL del feed RSS o Atom.
    """
    print(f"# --- LECTOR DE RSS: {url_feed} ---")
    
    # 1. Analizar el feed
    try:
        # # `feedparser.parse()` descarga el contenido y lo convierte en un objeto Python
        feed = feedparser.parse(url_feed)
    except Exception as e:
        print(f"Error al analizar el feed o al conectar: {e}")
        return

    # 2. Comprobar errores en la respuesta
    # # `feedparser` utiliza el c칩digo de estado HTTP para indicar si la solicitud fue exitosa
    if feed.status != 200:
        print(f"# ERROR HTTP: No se pudo acceder al feed. C칩digo de estado: {feed.status}")
        print("# Por favor, verifica que la URL sea correcta y est칠 activa.")
        return

    # 3. Mostrar la informaci칩n general del feed
    if 'feed' in feed:
        titulo_feed = feed.feed.get('title', 'Sin T칤tulo')
        enlace_feed = feed.feed.get('link', 'Sin Enlace')
        print(f"## 游닗 Feed: {titulo_feed}")
        print(f"# Enlace: {enlace_feed}")
        print("# ----------------------------------------")
    else:
        print("# Advertencia: La estructura del feed parece incompleta.")
        print("# ----------------------------------------")

    # 4. Mostrar los titulares (entradas)
    entradas = feed.entries
    if entradas:
        print(f"## Top {len(entradas)} Titulares Encontrados:")
        # # Iterar sobre las primeras 10 entradas para no saturar la consola
        for i, entrada in enumerate(entradas[:10]): 
            # # Obtener el t칤tulo, enlace y la fecha (si est치n disponibles)
            titulo = entrada.get('title', 'T칤tulo Desconocido')
            enlace = entrada.get('link', '#')
            fecha = entrada.get('published', entrada.get('updated', 'Fecha Desconocida'))
            
            # # Imprimir el titular formateado
            print(f"#{i+1:02d}. T칤tulo: {titulo}")
            print(f"#    Fecha: {fecha}")
            print(f"#    Enlace: {enlace}\n")
    else:
        print("# El feed no contiene titulares (entradas) o est치 vac칤o.")
        
    print("# --- LECTURA FINALIZADA ---")


# --- Bloque Principal de Ejecuci칩n ---

# # Define la URL del feed RSS que deseas leer.
# # # Ejemplos comunes:
# # URL_EJEMPLO = "https://www.meneame.net/rss"  # Noticias tecnol칩gicas
URL_EJEMPLO = "http://feeds.bbci.co.uk/news/world/rss.xml" # Noticias mundiales (BBC, en ingl칠s)
# # URL_EJEMPLO = "https://www.rtve.es/noticias/rss/actualidad.xml" # Noticias espa침olas

# # Llamar a la funci칩n principal
leer_feed_rss(URL_EJEMPLO)
```

## 游닇 Instrucciones para Usar el Programa

1.  **Instala `feedparser`:** Abre tu terminal y ejecuta:
    ```bash
    pip install feedparser
    ```
2.  **Guarda el c칩digo:** Guarda el c칩digo Python anterior en un archivo, por ejemplo, `lector_rss.py`.
3.  **Ejecuta el script:** Abre tu terminal y ejecuta:
    ```bash
    python lector_rss.py
    ```

# El script imprimir치 en la consola el t칤tulo del *feed*, su enlace y una lista numerada de los primeros titulares, junto con su fecha de publicaci칩n y enlace directo.


