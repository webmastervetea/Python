# Soporte: https://www.linkedin.com/in/oscarlizarragag/


# Este script utiliza la librer칤a **Tkinter** para la interfaz y el m칩dulo **random** para la generaci칩n segura.

# \# Es importante se침alar que **guardar contrase침as** de forma verdaderamente segura requerir칤a

# \# \# el uso de bases de datos cifradas o m칠todos de cifrado robustos (como AES),

# \# \# lo cual queda fuera del alcance de este script simple. Aqu칤, solo mostraremos la generaci칩n.

```python
import tkinter as tk
from tkinter import messagebox
import random
import string
import os

class GeneradorContrasenasApp:
    """
    Clase principal que gestiona la interfaz gr치fica y la l칩gica del generador de contrase침as.
    """
    def __init__(self, master):
        # 1. Configuraci칩n de la ventana principal
        self.master = master
        master.title("Generador y Visualizador de Contrase침as")
        master.geometry("450x300")
        master.config(padx=10, pady=10)

        # 2. Variables de control
        self.longitud = tk.IntVar(value=12) # Longitud inicial de 12
        self.incluir_mayus = tk.BooleanVar(value=True)
        self.incluir_minus = tk.BooleanVar(value=True)
        self.incluir_digitos = tk.BooleanVar(value=True)
        self.incluir_simbolos = tk.BooleanVar(value=False)
        self.contrasena_generada = tk.StringVar()

        # 3. Configuraci칩n de la Interfaz
        self.crear_widgets()

    def crear_widgets(self):
        """
        Crea y coloca todos los widgets de la interfaz.
        """
        # --- Frame para las Opciones de Generaci칩n ---
        opciones_frame = tk.LabelFrame(self.master, text="Opciones de Contrase침a", padx=10, pady=10)
        opciones_frame.pack(fill="x", pady=10)

        # Longitud (Label y Scale)
        tk.Label(opciones_frame, text="Longitud (8-32):").grid(row=0, column=0, sticky="w", pady=2)
        tk.Scale(opciones_frame, 
                 from_=8, to=32, 
                 orient=tk.HORIZONTAL, 
                 variable=self.longitud).grid(row=0, column=1, columnspan=3, sticky="ew")

        # Checkbuttons de Tipos de Caracteres
        tk.Checkbutton(opciones_frame, text="May칰sculas (A-Z)", variable=self.incluir_mayus).grid(row=1, column=0, sticky="w")
        tk.Checkbutton(opciones_frame, text="Min칰sculas (a-z)", variable=self.incluir_minus).grid(row=1, column=1, sticky="w")
        tk.Checkbutton(opciones_frame, text="D칤gitos (0-9)", variable=self.incluir_digitos).grid(row=2, column=0, sticky="w")
        tk.Checkbutton(opciones_frame, text="S칤mbolos (!@#$)", variable=self.incluir_simbolos).grid(row=2, column=1, sticky="w")

        # --- Bot칩n de Generar ---
        tk.Button(self.master, 
                  text="Generar Contrase침a", 
                  command=self.generar_y_mostrar,
                  bg='#4CAF50', fg='white', 
                  font=('Arial', 10, 'bold')).pack(pady=10, fill="x")

        # --- Frame para la Visualizaci칩n y Acci칩n ---
        visualizador_frame = tk.LabelFrame(self.master, text="Contrase침a Generada", padx=10, pady=10)
        visualizador_frame.pack(fill="x", pady=10)

        # Pantalla de Contrase침a
        tk.Entry(visualizador_frame, 
                 textvariable=self.contrasena_generada, 
                 font=('Courier', 14), 
                 bd=2, 
                 relief=tk.SUNKEN, 
                 state='readonly').grid(row=0, column=0, sticky="ew", padx=5)

        # Bot칩n para Copiar al Portapapeles
        tk.Button(visualizador_frame, 
                  text="Copiar", 
                  command=self.copiar_contrasena).grid(row=0, column=1, padx=5)

        # Ajustar el peso de la columna 0 para que ocupe m치s espacio
        visualizador_frame.grid_columnconfigure(0, weight=1)

    def generar_contrasena(self):
        """
        Genera una contrase침a aleatoria basada en las opciones del usuario.
        """
        longitud = self.longitud.get()
        caracteres = ""
        
        # Construir el conjunto de caracteres posibles
        if self.incluir_mayus.get():
            caracteres += string.ascii_uppercase
        if self.incluir_minus.get():
            caracteres += string.ascii_lowercase
        if self.incluir_digitos.get():
            caracteres += string.digits
        if self.incluir_simbolos.get():
            caracteres += string.punctuation
            
        # Si no se selecciona ning칰n tipo de car치cter
        if not caracteres:
            messagebox.showerror("Error", "Debe seleccionar al menos un tipo de car치cter.")
            return ""

        # Generar la contrase침a aleatoria
        # Se usa `random.SystemRandom()` que es criptogr치ficamente m치s seguro que `random.choice`
        # # aunque `random.choice` en Python moderno ya es suficientemente seguro.
        generador_seguro = random.SystemRandom()
        contrasena = ''.join(generador_seguro.choice(caracteres) for _ in range(longitud))
        
        return contrasena

    def generar_y_mostrar(self):
        """
        Llama al generador y actualiza la pantalla de la GUI.
        """
        nueva_contrasena = self.generar_contrasena()
        if nueva_contrasena:
            self.contrasena_generada.set(nueva_contrasena)
            messagebox.showinfo("Generado", "Contrase침a generada con 칠xito. 춰C칩piala!")

    def copiar_contrasena(self):
        """
        Copia la contrase침a mostrada al portapapeles del sistema.
        """
        contrasena = self.contrasena_generada.get()
        if contrasena:
            # # Abrir el portapapeles
            self.master.clipboard_clear()
            # # Colocar la contrase침a
            self.master.clipboard_append(contrasena)
            # # Cerrar el portapapeles (opcional)
            self.master.update()
            
            messagebox.showinfo("Copiado", "Contrase침a copiada al portapapeles.")
        else:
            messagebox.showwarning("Advertencia", "Primero debes generar una contrase침a.")


# --- Bloque Principal de Ejecuci칩n ---

def main():
    root = tk.Tk()
    app = GeneradorContrasenasApp(root)
    print("# Generador de Contrase침as iniciado. Usa la interfaz para crear una contrase침a fuerte.")
    root.mainloop()

if __name__ == "__main__":
    main()
```

## 游닇 Instrucciones para Usar el Programa

1.  **Guarda el c칩digo:** Guarda el c칩digo Python anterior en un archivo, por ejemplo, `generador_contrasenas.py`.
2.  **Ejecuta el script:** Abre tu terminal y ejecuta:
    ```bash
    python generador_contrasenas.py
    ```
3.  **Usa la aplicaci칩n:**
      * **Ajusta las opciones:** Mueve el *slider* para seleccionar la longitud y marca o desmarca las casillas para incluir may칰sculas, min칰sculas, d칤gitos y s칤mbolos.
      * **Genera:** Haz clic en **"Generar Contrase침a"**.
      * **Visualiza:** La contrase침a aparecer치 en el cuadro de texto.
      * **Copia:** Haz clic en **"Copiar"** para guardar la contrase침a en el portapapeles.

# Este generador utiliza `random.SystemRandom()`, que es el generador de n칰meros pseudoaleatorios criptogr치ficamente m치s robusto que Python ofrece en su biblioteca est치ndar, lo que hace que las contrase침as generadas sean seguras.

