# Soporte: https://www.linkedin.com/in/oscarlizarragag/

# Este script crea una calculadora b谩sica con botones para n煤meros y operaciones

# \# (suma, resta, multiplicaci贸n, divisi贸n). No se requiere instalaci贸n de librer铆as externas.

```python
import tkinter as tk

class CalculadoraApp:
    """
    Clase principal que gestiona la interfaz gr谩fica y la l贸gica de la calculadora.
    """
    def __init__(self, master):
        # 1. Configuraci贸n de la ventana principal
        self.master = master
        master.title("Calculadora Simple (Tkinter)")
        master.resizable(0, 0) # Deshabilita el cambio de tama帽o para mantener el dise帽o

        # 2. Variable y Widget de la Pantalla (Entry)
        # # `StringVar` se usa para manejar el texto que se muestra en la pantalla
        self.expresion = tk.StringVar()
        
        # # El widget Entry es la pantalla donde se muestran las entradas y resultados
        self.pantalla = tk.Entry(master, 
                                 textvariable=self.expresion, 
                                 bd=5, # Grosor del borde
                                 relief=tk.SUNKEN, # Estilo del borde
                                 font=('Arial', 16), 
                                 justify='right') # Alineaci贸n del texto a la derecha
        
        # # Colocar la pantalla en la primera fila (row=0), ocupando 4 columnas (columnspan=4)
        self.pantalla.grid(row=0, column=0, columnspan=4, padx=10, pady=10, sticky="nsew")

        # 3. Inicializar la expresi贸n (limpiar la pantalla)
        self.expresion_actual = ""
        self.expresion.set("")

        # 4. Crear los botones
        # # Lista de botones a crear. Cada tupla es (texto, fila, columna)
        botones = [
            ('7', 1, 0), ('8', 1, 1), ('9', 1, 2), ('/', 1, 3),
            ('4', 2, 0), ('5', 2, 1), ('6', 2, 2), ('*', 2, 3),
            ('1', 3, 0), ('2', 3, 1), ('3', 3, 2), ('-', 3, 3),
            ('0', 4, 0), ('.', 4, 1), ('=', 4, 2), ('+', 4, 3),
            ('C', 5, 0) # Bot贸n de limpiar
        ]

        # # Crear y colocar cada bot贸n en la cuadr铆cula (grid)
        for (texto, fila, columna) in botones:
            self.crear_boton(texto, fila, columna)

    def crear_boton(self, texto, fila, columna):
        """
        Funci贸n auxiliar para crear y colocar un bot贸n.
        """
        # # Definir el comando (funci贸n) a ejecutar al presionar el bot贸n
        if texto == 'C':
            comando = self.limpiar
        elif texto == '=':
            comando = self.calcular
        else:
            # # Para n煤meros y operadores, se llama a `presionar`
            comando = lambda t=texto: self.presionar(t)

        # # Crear el bot贸n (Button)
        boton = tk.Button(self.master, 
                          text=texto, 
                          padx=20, 
                          pady=20, 
                          font=('Arial', 12, 'bold'),
                          command=comando)
                          
        # # Colocar el bot贸n en la cuadr铆cula
        # # El bot贸n '=' ocupa dos columnas para un dise帽o m谩s limpio
        col_span = 1
        if texto == '=':
            col_span = 2
        
        boton.grid(row=fila, column=columna, columnspan=col_span, padx=5, pady=5, sticky="nsew")


    def presionar(self, tecla):
        """
        Maneja la entrada de n煤meros y operadores.
        """
        # # A帽adir la tecla presionada a la expresi贸n actual
        self.expresion_actual += str(tecla)
        # # Actualizar la pantalla
        self.expresion.set(self.expresion_actual)

    def limpiar(self):
        """
        Limpia la pantalla y la expresi贸n actual.
        """
        self.expresion_actual = ""
        self.expresion.set("")

    def calcular(self):
        """
        Eval煤a la expresi贸n actual y muestra el resultado.
        """
        try:
            # # La funci贸n `eval()` de Python eval煤a la cadena de texto como una expresi贸n matem谩tica.
            resultado = str(eval(self.expresion_actual))
            
            # # Actualizar la expresi贸n actual con el resultado para poder continuar calculando
            self.expresion_actual = resultado
            self.expresion.set(resultado)

        except ZeroDivisionError:
            # # Manejar la divisi贸n por cero
            self.expresion_actual = "Error: Div/0"
            self.expresion.set(self.expresion_actual)
        except SyntaxError:
            # # Manejar expresiones mal formadas (ej: "5 + * 6")
            self.expresion_actual = "Error: Sintaxis"
            self.expresion.set(self.expresion_actual)
        except Exception as e:
            # # Manejar otros errores
            self.expresion_actual = "Error"
            self.expresion.set(self.expresion_actual)


# --- Bloque Principal de Ejecuci贸n ---

# # Se crea la ventana ra铆z (Root)
root = tk.Tk()

# # Se instancia la aplicaci贸n de la calculadora
calculadora = CalculadoraApp(root)

print("# Calculadora iniciada. Cerrar la ventana para terminar el programa.")

# # Se inicia el bucle principal de Tkinter, que escucha eventos (clics de rat贸n, etc.)
root.mainloop()

# # Nota: El uso de `eval()` es peligroso si se usa con entrada no confiable. 
# # # Para una calculadora simple, es pr谩ctico, pero no para un entorno de producci贸n.
```

##  Instrucciones para Usar el Programa

1.  **Guarda el c贸digo:** Guarda el c贸digo Python anterior en un archivo, por ejemplo, `calculadora.py`.
2.  **Ejecuta el script:** Abre tu terminal y ejecuta:
    ```bash
    python calculadora.py
    ```

# El script abrir谩 una ventana de escritorio con la interfaz de la calculadora.


